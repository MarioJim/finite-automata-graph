{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/automata_processor.ts","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-force/src/constant.js","webpack:///./node_modules/d3-force/src/jiggle.js","webpack:///./node_modules/d3-quadtree/src/add.js","webpack:///./node_modules/d3-quadtree/src/cover.js","webpack:///./node_modules/d3-quadtree/src/quad.js","webpack:///./node_modules/d3-quadtree/src/x.js","webpack:///./node_modules/d3-quadtree/src/y.js","webpack:///./node_modules/d3-quadtree/src/quadtree.js","webpack:///./node_modules/d3-quadtree/src/data.js","webpack:///./node_modules/d3-quadtree/src/extent.js","webpack:///./node_modules/d3-quadtree/src/find.js","webpack:///./node_modules/d3-quadtree/src/remove.js","webpack:///./node_modules/d3-quadtree/src/root.js","webpack:///./node_modules/d3-quadtree/src/size.js","webpack:///./node_modules/d3-quadtree/src/visit.js","webpack:///./node_modules/d3-quadtree/src/visitAfter.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-force/src/link.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-force/src/simulation.js","webpack:///./node_modules/d3-selection/src/sourceEvent.js","webpack:///./node_modules/d3-selection/src/point.js","webpack:///./node_modules/d3-selection/src/mouse.js","webpack:///./node_modules/d3-selection/src/touch.js","webpack:///./node_modules/d3-drag/src/noevent.js","webpack:///./node_modules/d3-drag/src/nodrag.js","webpack:///./node_modules/d3-drag/src/constant.js","webpack:///./node_modules/d3-drag/src/event.js","webpack:///./node_modules/d3-drag/src/drag.js","webpack:///./src/graph.ts","webpack:///./node_modules/d3-force/src/manyBody.js","webpack:///./node_modules/d3-force/src/center.js","webpack:///./src/app.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","mergeTransitions","automata","transitionsIDs","window","transitions","forEach","transition","id","source","target","push","symbol","entries","transitionGroup","length","split","filter","Array","from","Set","join","findStateIndex","stateName","originalNFA","states","findIndex","none","selector","this","querySelector","empty","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","constructor","appendChild","child","insertBefore","next","querySelectorAll","bindIndex","group","enter","exit","data","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","a","b","NaN","xhtml","svg","xlink","xml","xmlns","prefix","indexOf","slice","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","apply","arguments","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","splice","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","filterEvents","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","map","type","onRemove","typename","on","__on","j","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","match","matches","size","each","x","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","append","onupdate","onexit","merge","order","groups0","groups1","selection","m0","m1","Math","min","merges","group0","group1","sort","compareNode","compare","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","classed","text","html","creator","insert","before","deep","dispatch","random","tree","y","isNaN","xm","ym","xp","yp","right","bottom","_root","leaf","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","defaultX","defaultY","quadtree","Quadtree","addAll","undefined","leaf_copy","copy","treeProto","pop","cover","xz","yz","Infinity","floor","z","visit","extent","_","find","x2","y2","q","x3","y3","quads","radius","dx","dy","d2","sqrt","retainer","removeAll","root","visitAfter","Map","f","set","isArray","has","clear","keys","values","proto","nodeById","nodeId","Error","noop","test","Dispatch","types","concat","T","taskHead","taskTail","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","stop","initialAngle","PI","current","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","identifier","touches","touch","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","DragEvent","subject","active","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","listeners","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","mousemoved","mouseupped","nodrag","noclick","sublisteners","p0","clickDistance","setupGraph","automataName","panelNum","page","defs","circleRadius","edgepaths","edgelabels","isFinalState","initialState","forceSim","simulation","alpha","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","stepper","step","tick","iterations","k","force","fx","vx","fy","vy","initializeNodes","angle","cos","sin","initializeForce","initialize","closest","strengths","distances","count","bias","strength","link","distance","links","jiggle","initializeStrength","initializeDistance","distanceMin2","distanceMax2","theta2","accumulate","quad","weight","abs","w","distanceMin","distanceMax","theta","sx","sy","width","height","hypot","bbox","getBBox","dragFunction","stopPropagation","readyState","addDropListener","enableExampleButtons","enableReturnButton","ignoreEvent","getElementsByTagName","ondragenter","ondragover","ondrop","dataTransfer","files","file","reader","FileReader","onload","result","recievedFile","readAsText","buttonsDiv","getElementById","onclick","response","fetch","display","pageID","alphabet","lines","line","shift","transitionString","splitTransition","sourceState","targetState","parseOriginalNFA","convertedDFA","NFA","state","indexToName","trans","DFA","newState","arrayOfNullStates","nullState","stateTransitions","setOfEndingStates","flatMap","newStateName","includes","some","convertNFA2DFA","minimizedDFA","minDFA","reversedObj","stateMappingsNames","fromEntries","equalStates","statesToBeDeleted","entry","newStates","stateMappingsIndexes","oldStateName","newName","String","fromCharCode","minimizeDFA"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","import { FiniteAutomata, AutomataSelection } from './types';\n\nconst getNewAutomata = (): FiniteAutomata => ({\n  states: [],\n  alphabet: [],\n  transitions: [],\n  initialState: '',\n});\n\n/**\n * Searches the transitions for ones that have equal source and target,\n * and merges its symbols into one so they don't overlap in the graphic\n * @param automata the automata to apply it to\n */\nconst mergeTransitions = (automata: AutomataSelection) => {\n  const transitionsIDs: {\n    [key: string]: string[];\n  } = {};\n  // For each transition in the automata...\n  window[automata].transitions.forEach((transition) => {\n    // Generate an id joining its source and its target\n    const id = `${transition.source}_${transition.target}`;\n    // Create an array if it hasn't been created\n    transitionsIDs[id] = transitionsIDs[id] || [];\n    // Add the symbol to its array\n    transitionsIDs[id].push(transition.symbol);\n  });\n  // For each key-value pair in transitionsID...\n  Object.entries(transitionsIDs).forEach((transitionGroup) => {\n    // If the transition is unique, do nothing\n    if (transitionGroup[1].length === 1) return;\n    // If it isn't, parse the source and target\n    const source = +transitionGroup[0].split('_')[0];\n    const target = +transitionGroup[0].split('_')[1];\n    // Filter out every transition that has the same source and target\n    window[automata].transitions = window[automata].transitions.filter(\n      (transition) =>\n        transition.source !== source || transition.target !== target,\n    );\n    // Make symbols unique (if there are repeated transitions) and merge them together\n    const symbol = Array.from(new Set(transitionGroup[1])).join(',');\n    // Add the new transition\n    window[automata].transitions.push({ source, target, symbol });\n  });\n};\n\n/**\n * Function to get the index from a state name in the original NFA\n * @param stateName the state name\n */\nconst findStateIndex = (stateName: string) =>\n  window.originalNFA.states.findIndex((s) => s.name === stateName);\n\n/**\n * Parses the file into an automata saved at window\n * @param file the file to be parsed\n */\nexport const parseOriginalNFA = (file: String) => {\n  window.originalNFA = getNewAutomata();\n  // Split the file into lines\n  const lines = file\n    .split('\\n')\n    .map((line) => line.trim())\n    .filter((line) => line !== '');\n  // State names\n  window.originalNFA.states = lines\n    .shift()\n    .split(',')\n    .map((stateName) => ({\n      name: stateName,\n      isFinalState: false,\n    }));\n  // Alphabet\n  window.originalNFA.alphabet = lines.shift().split(',');\n  // Starting state\n  window.originalNFA.initialState = lines.shift();\n  // Finishing states\n  lines\n    .shift()\n    .split(',')\n    .forEach((stateName) => {\n      window.originalNFA.states[findStateIndex(stateName)].isFinalState = true;\n    });\n  // Transitions\n  lines.forEach((transitionString) => {\n    const splitTransition = transitionString.split('=>');\n    const [sourceState, symbol] = splitTransition[0].split(',');\n    const source = findStateIndex(sourceState);\n    window.originalNFA.transitions.push(\n      ...splitTransition[1].split(',').map((targetState) => ({\n        source,\n        target: findStateIndex(targetState),\n        symbol,\n      })),\n    );\n  });\n  mergeTransitions('originalNFA');\n};\n\n/**\n * Converts the NFA currently saved in window into an DFA saved also\n * in window.\n */\nexport const convertNFA2DFA = () => {\n  window.convertedDFA = getNewAutomata();\n  // Copy initial state and alphabet from original NFA\n  window.convertedDFA.initialState = window.originalNFA.initialState;\n  window.convertedDFA.alphabet = Array.from(window.originalNFA.alphabet);\n\n  /* Build NFA table */\n  const NFA: {\n    [key: string]: {\n      [key: string]: string[];\n    };\n  } = {};\n  window.originalNFA.states.forEach((state) => {\n    NFA[state.name] = {};\n    window.originalNFA.alphabet.forEach((symbol) => {\n      NFA[state.name][symbol] = [];\n    });\n  });\n  // Function to get the name from a index in the original states\n  const indexToName = (index: any): string =>\n    window.originalNFA.states[index].name;\n  // For every transition registered, build the NFA table\n  window.originalNFA.transitions.forEach((trans) => {\n    trans.symbol.split(',').forEach((symbol) => {\n      NFA[indexToName(trans.source)][symbol].push(indexToName(trans.target));\n    });\n  });\n\n  /* Build DFA table */\n  const DFA: {\n    [key: string]: {\n      [key: string]: string;\n    };\n  } = {};\n  DFA[window.convertedDFA.initialState] = {};\n  // For every symbol in the alphabet...\n  window.originalNFA.alphabet.forEach((symbol) => {\n    // Generate the new state name\n    const newState = NFA[window.convertedDFA.initialState][symbol]\n      .sort()\n      .join(',');\n    // Set it as the resulting state from the initial state\n    DFA[window.convertedDFA.initialState][symbol] = newState;\n    // Add it to the states table it it isn't empty\n    if (newState !== '') DFA[newState] = null;\n  });\n  // Get the states that haven't been calculated\n  let arrayOfNullStates = Object.keys(DFA).filter((key) => DFA[key] === null);\n  while (arrayOfNullStates.length !== 0) {\n    // For every state that hasn't been initialized...\n    arrayOfNullStates.forEach((nullState) => {\n      // Initialize it as a empty object\n      DFA[nullState] = {};\n      // Get the transitions from every state that composes the null state\n      const stateTransitions = nullState.split(',').map((state) => NFA[state]);\n      // For every symbol in the alphabet...\n      window.originalNFA.alphabet.forEach((symbol) => {\n        // Calculate the ending set of states (no repeating elements)\n        const setOfEndingStates = new Set(\n          stateTransitions.flatMap((trans) => trans[symbol]),\n        );\n        // Convert it into an array, sort it and put them together\n        const newStateName = Array.from(setOfEndingStates).sort().join(',');\n        // Set it as the resulting state from the null state\n        DFA[nullState][symbol] = newStateName;\n        // If it hasn't been calculated and it isn't empty, add it to the states table\n        if (newStateName !== '' && !Object.keys(DFA).includes(newStateName))\n          DFA[newStateName] = null;\n      });\n    });\n    // Get the states that haven't been calculated\n    arrayOfNullStates = Object.keys(DFA).filter((key) => DFA[key] === null);\n  }\n\n  /* Convert the DFA table into a FiniteAutomata struct */\n  // Setup states of the converted DFA\n  window.convertedDFA.states = Object.keys(DFA).map((name) => {\n    // Check if any state that composes this one is a finishing state in the original NFA\n    const isFinalState = name\n      .split(',')\n      .some(\n        (stateName) =>\n          window.originalNFA.states[findStateIndex(stateName)].isFinalState,\n      );\n    return { name, isFinalState };\n  });\n  // For every sourceState: transitions relation in DFA\n  Object.entries(DFA).forEach(([sourceState, transitions]) => {\n    // Get the index of the source state\n    const source = window.convertedDFA.states.findIndex(\n      (s) => s.name === sourceState,\n    );\n    // For every symbol: targetState relation in transitions\n    Object.entries(transitions).forEach(([symbol, targetState]) => {\n      // Get the index of the target state\n      const target = window.convertedDFA.states.findIndex(\n        (s) => s.name === targetState,\n      );\n      // If the index was found (it wasn't the sink state) add it to the transitions array\n      if (target !== -1)\n        window.convertedDFA.transitions.push({ symbol, source, target });\n    });\n  });\n  mergeTransitions('convertedDFA');\n};\n\n/**\n * Minimizes the DFA currently saved in window and saves also in the\n * window\n */\nexport const minimizeDFA = () => {\n  window.minimizedDFA = getNewAutomata();\n  // Copy the alphabet from converted DFA\n  window.minimizedDFA.alphabet = Array.from(window.convertedDFA.alphabet);\n\n  // To minimize a DFA, we have to find states that have the same transitions\n  // and are either final or not final, so the main idea is concatenating\n  // this parameters into a string 'id'. This object saves relations between\n  // the state names and their ids\n  const minDFA: {\n    [key: string]: string[];\n  } = {};\n  // Add the first part, if the state is final\n  window.convertedDFA.states.forEach((state) => {\n    minDFA[state.name] = ['' + +state.isFinalState];\n  });\n  // Add the transitions also\n  window.convertedDFA.transitions.forEach((transition) => {\n    minDFA[window.convertedDFA.states[transition.source as number].name].push(\n      '' + transition.symbol + transition.target,\n    );\n  });\n  // Sort the id parts and merge them into the final id\n  Object.keys(minDFA).forEach((key) => {\n    const value = minDFA[key].sort().join(':');\n    minDFA[key] = [value];\n  });\n  // Reverse the relations, into an object formed by id: stateName[]\n  const reversedObj: {\n    [key: string]: string[];\n  } = {};\n  Object.entries(minDFA).forEach(([stateName, [id]]) => {\n    reversedObj[id] = reversedObj[id] || [stateName];\n    reversedObj[id].push(stateName);\n  });\n  // Map the old names to their new names\n  const stateMappingsNames = Object.fromEntries(\n    Object.values(reversedObj).flatMap((equalStates) =>\n      equalStates.map((state) => [state, equalStates[0]]),\n    ),\n  );\n  // Select the state names that should be deleted\n  const statesToBeDeleted = Object.entries(stateMappingsNames)\n    .map((entry) => (entry[0] !== entry[1] ? entry[0] : undefined))\n    .filter((stateName) => !!stateName);\n  // Filter from the old states the new states\n  const newStates = window.convertedDFA.states.filter(\n    (state) => !statesToBeDeleted.includes(state.name),\n  );\n  // Create the mapping between the old names/indexes to the new indexes\n  const stateMappingsIndexes = Object.fromEntries(\n    Object.entries(stateMappingsNames).map(([oldStateName, newStateName]) => {\n      const oldStateIndex = window.convertedDFA.states.findIndex(\n        (s) => s.name === oldStateName,\n      );\n      const newStateIndex = newStates.findIndex((s) => s.name === newStateName);\n      return [oldStateIndex, newStateIndex];\n    }),\n  );\n  // Rename the states from the new states array\n  window.minimizedDFA.states = newStates.map(({ name, isFinalState }, i) => {\n    const newName = `q${String.fromCharCode(i + 65)}`;\n    // Set the initial state\n    if (name === window.convertedDFA.initialState)\n      window.minimizedDFA.initialState = newName;\n    return { name: newName, isFinalState };\n  });\n  // Change the indexes from the transitions to the new indexes mapping\n  window.minimizedDFA.transitions = window.convertedDFA.transitions.map(\n    ({ source, target, symbol }) => ({\n      source: stateMappingsIndexes[source as number],\n      target: stateMappingsIndexes[target as number],\n      symbol,\n    }),\n  );\n  mergeTransitions('minimizedDFA');\n};\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import * as d3 from './d3bundle';\nimport { AutomataSelection, State } from './types';\n\nconst width = 600;\nconst height = 500;\nconst circleRadius = 25;\nconst initStateTriangleSize = 16;\n\nexport const displayGraphs = () => {\n  const automatas: AutomataSelection[] = [\n    'originalNFA',\n    'convertedDFA',\n    'minimizedDFA',\n  ];\n  automatas.forEach((automataName, index) => {\n    setupGraph(automataName, index + 1);\n  });\n};\n\nconst setupGraph = (automataName: AutomataSelection, panelNum: number) => {\n  // Select page\n  const page = d3.select(`#page${panelNum}`);\n  page.style('display', 'block');\n\n  // Select pane title\n  page.select('.pane-title').style('display', 'block');\n\n  // Select SVG\n  const svg = page\n    .select('.svg-pane')\n    .attr('viewBox', `0 0 ${width} ${height}`)\n    .style('display', 'block');\n\n  // Clear previous graphs\n  svg.selectAll('*').remove();\n\n  // Append defs\n  const defs = svg.append('defs');\n\n  // Add #arrowhead\n  defs\n    .append('marker')\n    .attr('id', 'arrowhead')\n    .attr('viewBox', '-0 -5 10 10')\n    .attr('refX', circleRadius + 3)\n    .attr('orient', 'auto')\n    .attr('markerWidth', 13)\n    .attr('markerHeight', 13)\n    .append('path')\n    .attr('d', 'M0,-5 L10,0 L0,5');\n\n  // Add #arrowhead-self\n  defs\n    .append('marker')\n    .attr('id', 'arrowhead-self')\n    .attr('viewBox', '-0 -5 10 10')\n    .attr('refX', circleRadius - 6)\n    .attr('refY', 8)\n    .attr('orient', 165)\n    .attr('markerWidth', 13)\n    .attr('markerHeight', 13)\n    .append('path')\n    .attr('d', 'M0,-5 L10,0 L0,5');\n\n  // Add lines to links\n  const edgepaths = svg\n    .selectAll('.edgepath')\n    .data(window[automataName].transitions)\n    .enter()\n    .append('path')\n    .attr('class', '.edgepath')\n    .attr('fill-opacity', 0)\n    .attr('stroke', '#000')\n    .attr('id', (_, i) => `edgepath${panelNum}-${i}`)\n    .attr(\n      'marker-end',\n      (d) => `url(#arrowhead${d.source === d.target ? '-self' : ''})`,\n    )\n    .style('pointer-events', 'none');\n\n  // Add titles to links\n  const edgelabels = svg\n    .selectAll('.edgelabel')\n    .data(window[automataName].transitions)\n    .enter()\n    .append('text')\n    .attr('dy', -3)\n    .attr('class', '.edgelabel')\n    .attr('font-size', 10)\n    .style('pointer-events', 'none');\n\n  edgelabels\n    .append('textPath')\n    .attr('href', (_, i) => `#edgepath${panelNum}-${i}`)\n    .style('text-anchor', 'middle')\n    .style('pointer-events', 'none')\n    .attr('startOffset', '50%')\n    .attr('fill', 'black')\n    .text((d) => d.symbol);\n\n  // Add nodes\n  const node = svg\n    .selectAll('.node')\n    .data(window[automataName].states)\n    .enter()\n    .append('g')\n    .attr('class', 'node');\n\n  node\n    .append('circle')\n    .attr('fill', 'lightgreen')\n    .attr('r', circleRadius)\n    .attr('stroke', 'black');\n\n  node\n    .filter((node) => node.isFinalState)\n    .append('circle')\n    .attr('fill', 'lightgreen')\n    .attr('r', circleRadius - 5)\n    .attr('stroke', 'black');\n\n  node\n    .append('text')\n    .attr('dy', 5)\n    .attr('text-anchor', 'middle')\n    .text((d) => d.name);\n\n  node\n    .filter((node) => node.name === window[automataName].initialState)\n    .append('polygon')\n    .attr('stroke', 'black')\n    .attr('fill', 'white')\n    .attr(\n      'points',\n      `-${circleRadius + initStateTriangleSize},${initStateTriangleSize} -${\n        circleRadius + initStateTriangleSize\n      },-${initStateTriangleSize} -${circleRadius},0`,\n    );\n\n  // Add force simulation\n  const forceSim = d3\n    .forceSimulation(window[automataName].states)\n    .force(\n      'link',\n      d3\n        .forceLink(window[automataName].transitions)\n        .distance(220)\n        .strength(0.8),\n    )\n    .force('charge', d3.forceManyBody().strength(-400))\n    .force('center', d3.forceCenter(width / 2, height / 2))\n    .on('tick', () => {\n      node.attr('transform', (d) => `translate(${d.x},${d.y})`);\n\n      edgepaths.attr('d', (d) => {\n        const s = d.source as State,\n          t = d.target as State;\n        const r = Math.hypot(t.x - s.x, t.y - s.y);\n        return r === 0\n          ? `M${s.x + 10},${s.y - 10}\n            A20,20,0,1,1,${s.x + 40},${s.y - 40}\n            A20,20,0,1,1,${s.x + 10},${s.y - 10}`\n          : `M ${s.x},${s.y} A${r},${r},0,0,1,${t.x},${t.y}`;\n      });\n\n      edgelabels.attr('transform', (d, i, nodes) => {\n        if ((d.target as State).x < (d.source as State).x) {\n          const bbox = nodes[i].getBBox();\n          const rx = bbox.x + bbox.width / 2;\n          const ry = bbox.y + bbox.height / 2;\n          return `rotate(180 ${rx} ${ry})`;\n        }\n        return 'rotate(0)';\n      });\n    });\n\n  // Add mouse drag to the nodes\n  const dragFunction = d3\n    .drag()\n    .on('start', (node: State) => {\n      d3.event.sourceEvent.stopPropagation();\n      if (!d3.event.active) forceSim.alphaTarget(0.3).restart();\n      node.fx = node.x;\n      node.fy = node.y;\n    })\n    .on('drag', (node: State) => {\n      node.fx = d3.event.x;\n      node.fy = d3.event.y;\n    })\n    .on('end', (node: State) => {\n      if (!d3.event.active) forceSim.alphaTarget(0);\n      node.fx = null;\n      node.fy = null;\n    });\n  node.call(dragFunction);\n};\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import {\n  parseOriginalNFA,\n  convertNFA2DFA,\n  minimizeDFA,\n} from './automata_processor';\nimport { displayGraphs } from './graph';\nimport { FiniteAutomata } from './types';\n\ndeclare global {\n  interface Window {\n    originalNFA: FiniteAutomata;\n    convertedDFA: FiniteAutomata;\n    minimizedDFA: FiniteAutomata;\n  }\n}\n\n// When document is ready, call addDropListener\ndocument.addEventListener('readystatechange', () => {\n  if (document.readyState === 'interactive') {\n    addDropListener();\n    enableExampleButtons();\n    enableReturnButton();\n  }\n});\n\nconst ignoreEvent = (event: DragEvent) => {\n  event.stopPropagation();\n  event.preventDefault();\n};\n\n/**\n * Adds the drop listener to the element #page.\n *\n * When an plain text file is dropped into the area, recievedFile\n * is called with the string of the file as a parameter.\n */\nconst addDropListener = () => {\n  const page = document.getElementsByTagName('body')[0];\n  page.ondragenter = ignoreEvent;\n  page.ondragover = ignoreEvent;\n  page.ondrop = (event) => {\n    ignoreEvent(event);\n    if (event.dataTransfer.files.length !== 1) return;\n    const file = event.dataTransfer.files[0];\n    if (file.type !== 'text/plain') return;\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      if (typeof event.target.result === 'string')\n        recievedFile(event.target.result);\n    };\n    reader.readAsText(file);\n  };\n};\n\n/**\n * Adds an onclick callback to every button in div#buttons\n */\nconst enableExampleButtons = () => {\n  const buttonsDiv = document.getElementById('buttons');\n  Array.from(buttonsDiv.getElementsByTagName('button')).forEach((child, i) => {\n    child.onclick = async () => {\n      const response = await fetch(`${i + 1}.txt`);\n      const file = await response.text();\n      recievedFile(file);\n    };\n  });\n};\n\nconst enableReturnButton = () => {\n  const returnBtn = document.getElementById('return-btn') as HTMLButtonElement;\n  returnBtn.onclick = () => {\n    document.getElementById('start-page').style.display = 'flex';\n    ['page1', 'page2', 'page3'].forEach((pageID) => {\n      document.getElementById(pageID).style.display = 'none';\n    });\n    document.getElementById('return-btn').style.display = 'none';\n  };\n};\n\n/**\n * Processes the recieved file\n * @param file\n */\nconst recievedFile = (file: string) => {\n  document.getElementById('start-page').style.display = 'none';\n  document.getElementById('return-btn').style.display = 'block';\n\n  parseOriginalNFA(file);\n  convertNFA2DFA();\n  minimizeDFA();\n  displayGraphs();\n};\n"],"sourceRoot":""}